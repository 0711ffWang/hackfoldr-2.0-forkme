extends _template

block title
  | Mozilla MakerSpace

block body

  nav#sidebar

    nav#nav
      .ui.menu.collapsed.mode.hidden
        a.item.expand.button
          i.icon.arrow.right
      .ui.menu.expanded.mode
        .ui.dropdown.item
          i.icon.home
          i.icon.dropdown
          .menu
            a.link.item g0v 官網
        a.link.item.view.help
          i.icon.help
        a.link.item.view.source
          i.icon.github
        a.right.item.collapse.button
          i.icon.arrow.left
        a.right.icon.item.zoom.ui.dropdown
          i.icon.zoom.in
          .menu
            .item.normal 100%
            .item.large 130%
            .item.larger 150%

    nav#topbar
      .ui.secondary.pointing.menu
        .item.expanded.mode 3du.tw
        .right.menu
          a.link.item.view.table
            i.icon.pencil
          a.item.refresh.table.hidden
            i.icon.repeat
    nav#toc
      .ui.vertical.menu
        a.item.link.sample
          span.expanded.mode 7/26 萌典演講後小松
          i.icon.file
        .ui.accordion
          .title.header.item.folder.sample
            span.expanded.mode 討論區
            i.icon.folder.closed
            i.icon.folder.open.hidden
          .content.menu
            a.item.link.sample
              span.expanded.mode google groups
              i.icon.file
            a.item.link.sample
              span.expanded.mode google+ community
              i.icon.file
        .ui.accordion
          .title.header.item.folder.sample
            span.expanded.mode 歷屆黑客松
            i.icon.folder.closed
            i.icon.folder.open.hidden
          .content.menu
            a.item.link.sample
              span.expanded.mode 7/26 萌典演講後小松
              i.icon.file
            a.item.link.sample
              span.expanded.mode 7/26 萌典演講後小松
              i.icon.file

  #wrapper

    .frame
      iframe#iframe(src="https://g0v.hackpad.com/726--rGMTn4s6Di9")

block script
  script.
    $(".hidden").hide();

    // sidebar expansion buttons
    $("#nav .collapse.button").on("click tap", function(){
      $("#sidebar").width("3rem");
      $("#wrapper").css("padding-left","3rem");
      $(".expanded.mode").hide();
      $(".collapsed.mode").show();
      $("#sidebar i.icon").addClass("collapsed");
      });
    $("#nav .expand.button").on("click tap", function(){
      $("#sidebar").width("20rem");
      $("#wrapper").css("padding-left","20rem");
      $(".expanded.mode").css("display","");
      $(".collapsed.mode").hide();
      $("#sidebar i.icon").removeClass("collapsed");
      });

    // about me buttons
    $("#nav .view.help").on("click tap", function(){
      $("#iframe").attr("src","http://newshelper.g0v.tw/");
      });
    $("#nav .view.source").on("click tap", function(){
      $("#iframe").attr("src","http://logbot.g0v.tw/channel/g0v.tw/today");
      });

    // firefox fix for iframe initial size
    $("#wrapper .frame").addClass("normal size");

    // zoom in buttons
    $("#nav .zoom.dropdown .normal").on("click tap", function(){
      $(".frame, #iframe").removeClass("large larger").addClass("normal size");
      });
    $("#nav .zoom.dropdown .large").on("click tap", function(){
      $(".frame, #iframe").removeClass("normal larger").addClass("large size");
      });
    $("#nav .zoom.dropdown .larger").on("click tap", function(){
      $(".frame, #iframe").removeClass("normal large").addClass("larger size");
      });

    // edit table
    $("#topbar .view.table").on("click tap", function(){
      $("#iframe").attr("src","https://ethercalc.org/3du");
      $("#topbar .table.item").toggle();
      });
    $("#topbar .refresh.table").on("click tap", function(){
      location.reload(true);
      });
    $("#toc a.link.item, #nav a.link.item").on("click tap", function(){
      $("#topbar .view.table").show();
      $("#topbar .refresh.table").hide();
      });


    $("#toc .link.sample").on("click tap", function(){
      $("#iframe").attr("src","https://g0v.hackpad.com/726--rGMTn4s6Di9");
      });
    $("#toc .folder.sample").on("click tap", function(){
      $(this).children(".folder").toggle();
      });
